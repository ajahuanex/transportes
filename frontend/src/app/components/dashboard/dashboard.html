<div class="dashboard-container">
  <!-- Header del Dashboard -->
  <div class="dashboard-header">
    <div class="header-content">
      <h1 class="dashboard-title">
        <i class="fas fa-tachometer-alt"></i>
        Dashboard DRTC Puno
      </h1>
      <p class="dashboard-subtitle">
        Sistema de Gestión de Transportes y Comunicaciones
      </p>
    </div>
    <div class="header-actions">
      <button class="btn btn-primary" (click)="nuevaEmpresa()">
        <i class="fas fa-plus"></i>
        Nueva Empresa
      </button>
      <button class="btn btn-secondary" (click)="generarReporte()">
        <i class="fas fa-download"></i>
        Reporte
      </button>
    </div>
  </div>

  <!-- Tarjetas de Resumen -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-building"></i>
      </div>
      <div class="stat-content">
        <h3 class="stat-number">{{ currentEstadisticas().totalEmpresas || 0 }}</h3>
        <p class="stat-label">Empresas Registradas</p>
        <div class="stat-change positive">
          <i class="fas fa-arrow-up"></i>
          +5% este mes
        </div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-bus"></i>
      </div>
      <div class="stat-content">
        <h3 class="stat-number">{{ currentEstadisticas().totalVehiculos || 0 }}</h3>
        <p class="stat-label">Vehículos Activos</p>
        <div class="stat-change positive">
          <i class="fas fa-arrow-up"></i>
          +12% este mes
        </div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-user-tie"></i>
      </div>
      <div class="stat-content">
        <h3 class="stat-number">{{ currentEstadisticas().totalConductores || 0 }}</h3>
        <p class="stat-label">Conductores Habilitados</p>
        <div class="stat-change positive">
          <i class="fas fa-arrow-up"></i>
          +8% este mes
        </div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">
        <i class="fas fa-route"></i>
      </div>
      <div class="stat-content">
        <h3 class="stat-number">{{ currentEstadisticas().totalRutas || 0 }}</h3>
        <p class="stat-label">Rutas Autorizadas</p>
        <div class="stat-change neutral">
          <i class="fas fa-minus"></i>
          Sin cambios
        </div>
      </div>
    </div>
  </div>

  <!-- Alertas y Notificaciones -->
  <div class="alerts-section">
    <h2 class="section-title">
      <i class="fas fa-exclamation-triangle"></i>
      Alertas y Notificaciones
    </h2>
    <div class="alerts-grid">
      <div class="alert-card warning">
        <div class="alert-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div class="alert-content">
          <h4>Documentos por Vencer</h4>
          <p>{{ currentAlertas().documentosPorVencer || 0 }} documentos vencen en los próximos 30 días</p>
        </div>
      </div>

      <div class="alert-card danger">
        <div class="alert-icon">
          <i class="fas fa-times-circle"></i>
        </div>
        <div class="alert-content">
          <h4>Documentos Vencidos</h4>
          <p>{{ currentAlertas().documentosVencidos || 0 }} documentos han vencido</p>
        </div>
      </div>

      <div class="alert-card info">
        <div class="alert-icon">
          <i class="fas fa-file-alt"></i>
        </div>
        <div class="alert-content">
          <h4>Expedientes Pendientes</h4>
          <p>{{ currentAlertas().expedientesPendientes || 0 }} expedientes requieren revisión</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Acciones Rápidas -->
  <div class="quick-actions">
    <h2 class="section-title">
      <i class="fas fa-bolt"></i>
      Acciones Rápidas
    </h2>
    <div class="actions-grid">
      <button class="action-card" (click)="navegarA('empresas')">
        <i class="fas fa-building"></i>
        <span>Gestionar Empresas</span>
      </button>
      <button class="action-card" (click)="navegarA('vehiculos')">
        <i class="fas fa-bus"></i>
        <span>Gestionar Vehículos</span>
      </button>
      <button class="action-card" (click)="navegarA('conductores')">
        <i class="fas fa-user-tie"></i>
        <span>Gestionar Conductores</span>
      </button>
      <button class="action-card" (click)="navegarA('rutas')">
        <i class="fas fa-route"></i>
        <span>Gestionar Rutas</span>
      </button>
      <button class="action-card" (click)="navegarA('expedientes')">
        <i class="fas fa-folder-open"></i>
        <span>Expedientes</span>
      </button>
      <button class="action-card" (click)="navegarA('reportes')">
        <i class="fas fa-chart-bar"></i>
        <span>Reportes</span>
      </button>
    </div>
  </div>

  <!-- Actividad Reciente -->
  <div class="recent-activity">
    <h2 class="section-title">
      <i class="fas fa-history"></i>
      Actividad Reciente
    </h2>
    <div class="activity-list">
      @for (actividad of currentActividades(); track actividad.descripcion) {
        <div class="activity-item">
          <div class="activity-icon">
            <i [class]="actividad.icono"></i>
          </div>
          <div class="activity-content">
            <p class="activity-text">{{ actividad.descripcion }}</p>
            <span class="activity-time">{{ actividad.fecha | date:'short' }}</span>
          </div>
        </div>
      }
    </div>
  </div>
</div>
